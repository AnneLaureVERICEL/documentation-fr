Sharing
*******

.. seealso::

	`Sharing in Novius OS <http://novius-os.github.com/docs/applications.html#sharing>`_


.. _sharing_content-nuggets:

Content nuggets : pour partager des données
===========================================

Taxonomie
---------

Type de données standardisées faisant partie d'un ``content nugget`` (pépite de contenu).

* ``Title`` : Titre
* ``URL``
* ``Text`` : Texte
* ``Image``

Pour rendre un objet partageable il suffit de lui assigner le comportement ``Sharable``. Voir :ref:`Behaviour Sharable <behaviours_sharable>`.


.. _sharing_data-catchers:

Data catchers (use content nuggets)
===================================

Data catchers are components which use content nuggets generated by the models.

Data catchers are defined by applications in the ``metadata.config.php`` file, the same way as templates, enhancers and launchers.

Included data catchers
----------------------

Requires user action
^^^^^^^^^^^^^^^^^^^^

* Twitter
* Facebook
* Blog

The Blog data catcher can be used to create new blog posts from other items, such as monkeys (see bootstrap application) or books (this application does not exists, it's just an example).

Operate automatically
^^^^^^^^^^^^^^^^^^^^^

* RSS item
* RSS channel

The RSS data catchers operate automatically, but they won't be available for all models, as they require some extra configuration on a per-model & per-enhancer basis. This first draft of the documentation won't cover this functionality.


How the **Twitter** data catcher is defined
-------------------------------------------

.. code-block:: php

	<?php
	return array(
		'data_catchers' => array(
			'noviusos_twitter_intent' => array(
				'title' => 'Twitter',
				'description'  => '',
				'iconUrl' => 'static/apps/noviusos_twitter/img/twitter.png',
				// Which action is triggered when the user click on the button
				// Replacements are made using the shared data (content nugget)
				'action' => array(
					'action' => 'window.open',
					'url' => 'https://twitter.com/intent/tweet?text={{'.\Nos\DataCatcher::TYPE_TITLE.'}}&url={{'.\Nos\DataCatcher::TYPE_URL.'}}',
				),
				'onDemand' => true, // Requires user action
				'specified_models' => false, // Apply on every model (with the sharable behaviour)
				'required_data' => array(
					\Nos\DataCatcher::TYPE_TITLE,
				),
				'optional_data' => array(
					\Nos\DataCatcher::TYPE_URL,
				),
			),
		),
	);


So the **Twitter** data catcher only requires the content nugget to have a title. The URL is optional (but will be used if provided).
